<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>TextOShare</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        input.code-box::-webkit-outer-spin-button,
        input.code-box::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input.code-box {
            appearance: textfield;
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
        }

        #result pre {
            white-space: pre-wrap !important;
            word-wrap: break-word !important;
            overflow-wrap: break-word !important;
            word-break: break-word !important;
            hyphens: auto;
        }

        #resultMobile .result-text {
            margin-bottom: 10px;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        #passwordModal>div {
            width: 400px;
            max-width: 90vw;
            box-sizing: border-box;
        }

        @media (max-width: 640px) {
            #passwordModal>div {
                width: 80vw !important;
                max-width: 90vw !important;
            }
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen font-sans">
    <nav class="bg-white shadow-md px-6 py-4 flex justify-between items-center sticky top-0 z-10 select-none">
        <a href="/index.html">
            <div class="text-xl font-bold text-indigo-700">TextOShare</div>
        </a>
        <div class="space-x-6 text-gray-700 font-medium">
            <a href="index.html" class="hover:text-indigo-600 transition">Generate Code</a>
            <a href="about.html" class="hover:text-indigo-600 transition">About</a>
        </div>
    </nav>

    <main class="flex flex-col lg:flex-row min-h-[calc(100vh-80px)]">
        <section class="w-auto flex flex-col items-center justify-start p-6 bg-white shadow-inner fade-in space-y-6">
            <h1 class="text-3xl font-bold text-indigo-700">Enter Share Code</h1>
            <div id="codeInputs" class="flex justify-start gap-3 w-full max-w-sm justify-center">
                <input type="text" maxlength="1" inputmode="numeric"
                    class="code-box w-12 h-14 border border-gray-300 rounded-lg shadow focus:ring-2 focus:ring-indigo-400 transition" />
                <input type="text" maxlength="1" inputmode="numeric"
                    class="code-box w-12 h-14 border border-gray-300 rounded-lg shadow focus:ring-2 focus:ring-indigo-400 transition" />
                <input type="text" maxlength="1" inputmode="numeric"
                    class="code-box w-12 h-14 border border-gray-300 rounded-lg shadow focus:ring-2 focus:ring-indigo-400 transition" />
                <input type="text" maxlength="1" inputmode="numeric"
                    class="code-box w-12 h-14 border border-gray-300 rounded-lg shadow focus:ring-2 focus:ring-indigo-400 transition" />
                <input type="text" maxlength="1" inputmode="numeric"
                    class="code-box w-12 h-14 border border-gray-300 rounded-lg shadow focus:ring-2 focus:ring-indigo-400 transition" />
                <input type="text" maxlength="1" inputmode="numeric"
                    class="code-box w-12 h-14 border border-gray-300 rounded-lg shadow focus:ring-2 focus:ring-indigo-400 transition" />
            </div>

            <div id="clearBtnWrapper" class="hidden w-full max-w-sm flex justify-center items-center">
                <button id="clearBtn"
                    class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded transition shadow">
                    Clear
                </button>
            </div>

            <div id="resultMobile" class="text-center text-gray-700 text-lg lg:hidden"></div>
        </section>

        <section class="lg:w-full w-full p-8 bg-gray-50 fade-in flex flex-col">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-xl font-semibold text-gray-800 border-b pb-2">Shared Text</h2>
                <div id="actionButtons" class="action-buttons flex space-x-4 hidden">
                    <button id="copyBtn" aria-label="Copy Text"
                        class="bg-indigo-500 text-white px-4 py-2 rounded shadow hover:bg-indigo-600">
                        <i class="fa-solid fa-copy"></i>
                    </button>
                    <button id="downloadBtn" aria-label="Download Text"
                        class="bg-green-500 text-white px-4 py-2 rounded shadow hover:bg-green-600">
                        <i class="fa-solid fa-download"></i>
                    </button>
                </div>
            </div>
            <div id="result" class="text-gray-700 text-lg whitespace-pre-wrap break-words w-full h-full">
                <p class="text-gray-400">Enter a 6-digit code to view the shared content here.</p>
            </div>
        </section>
    </main>

    <div id="passwordModal"
        class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg shadow-xl fade-in"
            style="width: 100%; max-width: 800px; box-sizing: border-box;">
            <h3 class="text-lg font-bold text-gray-600 mb-4">Enter Password</h3>
            <div class="relative mb-4">
                <input type="password" id="passwordInput"
                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400"
                    placeholder="Enter password" />
                <span id="togglePassword"
                    class="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer text-gray-400 hover:text-gray-600">
                    <i class="fa-solid fa-eye-slash"></i>
                </span>
            </div>
            <p id="passwordError" class="text-red-600 text-sm mb-4 hidden">
                Wrong password. Please try again.
            </p>
            <div class="flex justify-end space-x-2">
                <button id="cancelPassword" class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-lg">
                    Cancel
                </button>
                <button id="submitPassword" class="bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg">
                    Submit
                </button>
            </div>
        </div>
    </div>

    <script src="/code.js"></script>
</body>

</html>